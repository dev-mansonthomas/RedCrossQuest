
<div class="container">

  <div>
    <acme-navbar creation-date="main.creationDate"></acme-navbar>
  </div>

<div class="container">

  <div class="panel panel-primary">
    <div class="panel-heading">Départ Tronc</div>
  </div>


  <div class="" data-ng-controller="DepartTroncController as dt">
    <div class="well">
      <form novalidate ng-submit='departTronc.save();' name="departTroncForm">
        <div class="row">
          <div class="col-md-4">

            <qr-scanner
              ng-success="departTronc.qrCodeScanOnSuccess(data)"
                ng-error="departTronc.qrCodeScanOnError(error)"
          ng-video-error="departTronc.qrCodeScanOnVideoError(error)"
                   width="300"
                  height="300"/>

            <span ng-bind="departTronc.decodedData"></span>
          </div>

          <div class=" col-md-4">
            <div class="form-group" ng-class="{'has-error':departTroncForm.queteurId.$invalid}">
              <label for="queteurId" class="control-label">Recherche du Quêteur</label>
              <input
                     id="queteurId"
                     type="text"
                     ng-model="departTronc.current.queteur"
                     placeholder="Scanner le QRCode de la carte du quêteur"
                     uib-typeahead="queteur as queteur.full_name for queteur in dt.searchQueteur($viewValue)"
                     typeahead-loading="loadingLocations"
                     typeahead-no-results="noResults"
                     typeahead-wait-ms="20"
                     class="form-control"
                      ng-required>
              <i   ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
              <div ng-show="noResults">
                <i class="glyphicon glyphicon-remove"></i> No Results Found
              </div>
              <span class="help-block">Scan QR Code, avec mode secours saisie manuelle</span>
            </div>
            <div class="form-group" ng-class="{'has-error':departTroncForm.horaireDepartTheorique.$invalid}">
              <label for="horaireDepartTheorique" class="control-label">Horaire Théorique de Départ</label>
              <input name="horaireDepartTheorique" id="horaireDepartTheorique" type="time" class="form-control" ng-model="departTronc.current.horaireDepartTheorique" required/>
              <span class="help-block" ng-show="departTroncForm.horaireDepartTheorique.$error.required">Required</span>
            </div>
          </div>
          <div class=" col-md-4">
            <div class="form-group" ng-class="{'has-error':departTroncForm.troncId.$invalid}">
              <label for="troncId" class="control-label">Id Tronc</label>
              <input name="troncId" id="troncId" class="form-control" ng-model="departTronc.current.troncId" required/>
              <span class="help-block">Scan QR Code, avec mode secours saisie manuelle</span>
            </div>
            <div class="form-group">
              <label for="lieuDeQuete" class="control-label">Lieu de Quête</label>
              <select name="lieuDeQuete" id="lieuDeQuete" class="form-control" ng-model="departTronc.current.lieuDeQuete" required>
                <option value="1">Pont D'Arcole</option>
                <option value="2">BHV</option>
                <option value="3">Voie Sur Berge 1</option>
                <option value="4">Voie Sur Berge 2</option>
                <option value="5">Voie Sur Berge 3</option>
                <option value="6">Voie Sur Berge 4</option>
                <option value="7">Notre Dame</option>
                <option value="8">Pont de Sully</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="pull-right">
            <div class="form-group">
              <input type="submit" class="btn btn-primary" value="Save" ng-disabled="departTroncForm.$invalid" />
              <a ng-href="#/list" class="btn btn-link">Cancel</a>
            </div>
          </div>
        </div>


      </form>
    </div>
  </div>


</div>
</div>
